### 双指针问题汇总

---

#### **什么是快慢指针** 

> *快慢* 说的是移动速度
>
> *指针* 说的是记录变量的位置，间接访问变量



#### 1 判断链表是否有环

* 老生常谈的问题了，面试经常被问到

![image-20200526102653141](/Users/zhuhaoran/Library/Application Support/typora-user-images/image-20200526102653141.png)

> 我们让快慢指针同时在头结点出发，快指针每次跑2个节点，慢指针每次跑一个节点，若快指针追到了慢指针，则链表有环。

时间复杂度O(n), 空间复杂度O(1)



```java
var hasCycle = function(head) {
  let slowPointer = head
  let fastPointer = head
  while (fastPointer && fastPointer.next) {
    slowPointer = slowPointer.next
    fastPointer = fastPointer.next.next
    if (fastPointer === slowPointer) {
      return true
    }
  }
  return false
}

```

---

#### 1.2 判断链表的入环节点

这是上一个问题的扩展。

>当快指针与慢指针在环内第一次相遇时:
>
>* 假设此时离入环点距离为C', 环内长度为C，出发点与入环点距离为L
>* 那么此时慢指针走了L+C‘步，快指针则是L+C’+N*C，（N即它在环内绕的圈数）
>* **因为快指针的速度是慢指针的两倍**
>* 有`2 * (L + C') = L + C' + N * C`
>* 整理后：`(N - 1) * C + (C - C') = L`
>
>也就是说!当快慢指针相遇时，我们再出发点再出发一个慢指针，它与第一个慢指针必会在入环点再次相遇!



**如果算式证明看不懂,我们可以这样理解：**

>1快指针永远都走了慢指针两倍的路
>
>2当快指针走到了入环点时,即L路程，慢指针走了L/2路程
>
>3当慢指针走到了入环点时，快指针已经在环内走了L路程（因为慢指针又走了(L/2),所以快指针又走了L）
>
>4那么接下来设快指针前面的路程为b,后面的路程为L （b+L= 环长）
>
>5**当慢指针在环里走了b步**，距离入环处差*L*步，**快指针走了2*b步**，距离入环处也是*L*步！所以两指针在距离入环点*L* 的地方相遇了！
>
>6所以我们让一个慢指针头头结点出发，与第一个慢指针走L步后便在*入环点*相遇